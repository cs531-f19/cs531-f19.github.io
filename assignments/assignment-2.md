---
title: Assignment 2
---

## Additional Methods

* No new methods

## Additional Status Codes

* `301` Moved Permanently (If `/foo` is a directory, the server should `301` redirect to `/foo/`)
* `302` Found (Respect mappings and status codes from a regular expressions-based redirection configuration file)
* `304` Not Modified
* `408` Request Timeout
* `412` Precondition Failed

## Additional Request Headers

* `Connection: close` (It is now optional; its absence means the request is `long-lived`)
* `If-Modified-Since`
* `If-Unmodified-Since`
* `If-Match`
* `If-None-Match`

## Additional Response Headers

* `ETag` (Only compute "strong" `ETags`, come up with your own method)
* `Location`

## Notes

* Tests will be performed based on the content of `a2-test` folder from the [sample test files](https://raw.githubusercontent.com/ibnesayeed/webserver-tester/master/sample/cs531-test-files.tar.gz) (extract this tarball at your web server's document root)
* Make your `Dockerfile` run your server on port `80` by default
* [Release](https://help.github.com/en/articles/creating-releases) your implementation with the `a2` tag
* One point will be awarded for passing test cases of the previous assignment (except certain test cases where there are obvious backward compatibility conflicts)
* Support both `long-lived` and `pipelined` connections
* Use a default of `15 seconds` for timeouts (specify in a config file)
* Any `GET` method that does not result in a `2xx` response code `MUST` have a `text/html` entity generated by the server explaining the response code (unless prohibited, like `304`)
* In a config file, specify that `index.html` is the default resource name for when a URI ends in `/`
* If a directory does not have a default resource (i.e., `index.html`), then dynamically generate an HTML listing of the directories and files (they should be clickable, with dates, sizes, etc.)
* Create a separate config file that supports redirections of the form:

```yml
# Status: Incoming RegExp          Redirect URI`

302: ^/a2-test/(.*)/coolcar.html$  /a2-test/$1/galaxie.html`
302: ^/a2-test/(.*)/1\.[234]/(.*)  /a2-test/$1/1.1/$2`
301: ^/a2-test/(.*)/mercury/(.*)$  /a2-test/$1/ford/$2`
```
